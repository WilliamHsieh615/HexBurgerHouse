import{_ as w}from"./CQOZryfy.js";import{e as S,f as $,g as N,h as X,r as g,i as B,j as F,c as l,o as r,b as p,a as t,k as R,l as H,F as I,m as L,n as V,p as q,t as _,q as f,w as M,d as A}from"./CBq4XWQJ.js";import{H as E,F as Q}from"./C_sVqVdH.js";import{T as U}from"./C6vxvy4S.js";import{u as Y}from"./OPv-9iRo.js";import{_ as j}from"./DlAUqK2U.js";import"./BdlDaKe3.js";const x={class:"wrap"},z={class:"cart-main"},D={class:"cart"},O={key:0,class:"item-container"},P=["onTouchstart","onTouchend"],G={class:"window"},J=["src","alt"],K={class:"info"},W={class:"name"},Z={class:"price"},tt={class:"amount"},st=["onClick"],et={class:"number"},ot=["onClick"],at={class:"sum"},ct=["onClick"],nt={key:1,class:"cart_is_empty"},rt=S({__name:"cart",setup(lt){$({title:"CARTï½œHex Burger House"});const T=N().app.baseURL||"/",i=Y(),c=X(()=>i.cart),u=g([]),d=g([]),h=()=>{u.value=c.value.map(()=>!1),d.value=c.value.map(()=>0)},v=(s,e)=>{i.changeQuantity(s,e),h()},k=s=>{i.removeItem(s),h()},C=(s,e)=>{s.changedTouches&&s.changedTouches[0]&&(d.value[e]=s.changedTouches[0].clientX)},y=(s,e)=>{if(s.changedTouches&&s.changedTouches[0]){const m=s.changedTouches[0].clientX,o=d.value[e]??0,a=m-o;a<-50?u.value=c.value.map((n,b)=>b===e):a>50&&(u.value[e]=!1)}};return B(()=>{i.loadFromLocalStorage(),h()}),F(c,()=>{h()}),(s,e)=>{const m=w;return r(),l("div",x,[p(E),t("main",z,[p(U),t("div",D,[e[1]||(e[1]=t("h2",null,"YOUR CART",-1)),c.value.length>0?(r(),l("ul",O,[(r(!0),l(I,null,L(c.value,(o,a)=>(r(),l("li",{class:V(["item",{"show-trash":u.value[a]}]),key:o.name,onTouchstart:n=>C(n,a),onTouchend:n=>y(n,a)},[t("div",G,[t("img",{src:`${q(T)}image/products/${o.category}/${o.image}`,alt:o.name},null,8,J)]),t("div",K,[t("div",W,[t("h3",null,_(o.name),1),t("p",Z,"NT$ "+_(o.price),1)]),t("div",tt,[t("a",{href:"#",class:"minus",onClick:f(n=>v(a,-1),["prevent"])},"-",8,st),t("p",et,_(o.quantity),1),t("a",{href:"#",class:"plus",onClick:f(n=>v(a,1),["prevent"])},"+",8,ot)])]),t("p",at,"NT$ "+_(o.price*o.quantity),1),t("a",{href:"#",class:"bi bi-trash3-fill trashIcon",onClick:f(n=>k(a),["prevent"])},null,8,ct)],42,P))),128))])):(r(),l("p",nt,"Your cart is empty.")),c.value.length>0?(r(),R(m,{key:2,to:"/checkout",class:"checkout_button"},{default:M(()=>e[0]||(e[0]=[A("Proceed to Checkout",-1)])),_:1,__:[0]})):H("",!0)])]),p(Q)])}}}),vt=j(rt,[["__scopeId","data-v-3b3ec4fb"]]);export{vt as default};
