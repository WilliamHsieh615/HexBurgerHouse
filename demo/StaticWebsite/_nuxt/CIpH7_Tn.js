import{H as O,F as Q}from"./CyFUVLbw.js";import{T as W}from"./BmXSe1Ya.js";import{G as X,r as a,g as R,H as Y,c as d,o as v,a as e,m as r,j as T,I as V,d as c,v as A,t as M,F as ee,k as se,x as U,n as u,l as S,e as te,f as le,b as P}from"./CRkYgu1H.js";import{u as ae}from"./DTmrwTFR.js";import{s as ie}from"./x_rD_Ya3.js";import{_ as B}from"./DlAUqK2U.js";import"./BFWWXEst.js";import"./BIlIqN-I.js";const oe={class:"email"},re={class:"emailInput"},ne=["disabled"],ce={class:"verify"},ue={class:"code"},de=["onUpdate:modelValue","onInput"],ve={class:"password"},pe={class:"passwordInput"},me=["type"],fe={class:"passwordConfirmInput"},be=["type"],we={class:"tips"},he={class:"length-tip"},_e={class:"letter-tip"},ye={class:"digit-tip"},ge={class:"match-tip"},Ie={key:1,type:"submit",class:"retrieve_button"},Ve={__name:"FormsRetrieveForm",setup(D){const{isRequired:b,isValidEmail:F,isValidPassword:H,isPasswordMatch:N,isFullCode:$,showErrors:k,showSuccess:x}=ae(),q=X(),p=a(""),m=a(["","","",""]),l=a(""),n=a(""),o=a(1),f=a(0),w=a(null),h=a(!1),_=a(!1),y=a(!1),z=()=>{_.value=!_.value},j=()=>{y.value=!y.value},G=()=>{const t=[];b(p.value)?F(p.value)||t.push("Invalid email format."):t.push("Please enter your email address."),k(t)&&(x("Verification code sent",`A verification code has been sent to ${p.value}.`),o.value=2,h.value=!0,f.value=60,w.value=ie(()=>{f.value--,f.value<=0&&(clearInterval(w.value),h.value=!1,f.value=0)},1e3))},L=(t,s)=>{const i=s.target.value.replace(/[^0-9]/g,"").slice(0,1);m.value[t]=i,i&&t<3&&document.querySelectorAll(".codeInput")[t+1].focus()},Z=()=>{if(!$(m.value)){k(["Please enter the complete 4-digit verification code."]);return}x("Verified!","Verification successful."),o.value=3},C=R(()=>({length:l.value.length>=6&&l.value.length<=12,letter:/[a-zA-Z]/.test(l.value),digit:/[0-9]/.test(l.value)})),g=R(()=>n.value?l.value===n.value:null),J=R(()=>g.value===!0?"Passwords match":g.value===!1?"Passwords do not match":"Please confirm your password"),K=()=>{const t=[];b(l.value)?H(l.value)||t.push("Password must be 6–12 characters, including at least 1 letter and 1 number."):t.push("Please enter your password."),b(n.value)?N(l.value,n.value)||t.push("Passwords do not match."):t.push("Please confirm your password."),k(t)&&x("Success","Password has been reset successfully.").then(()=>{q.push("/login")})};return Y(()=>{w.value&&clearInterval(w.value)}),(t,s)=>(v(),d("form",{class:"retrieve-form",onSubmit:S(K,["prevent"]),novalidate:""},[s[12]||(s[12]=e("h2",null,"RETRIEVE",-1)),r(e("div",oe,[s[4]||(s[4]=e("label",{for:"email"},[c("Email Address"),e("span",null,"*")],-1)),e("div",re,[r(e("input",{type:"email",id:"email","onUpdate:modelValue":s[0]||(s[0]=i=>p.value=i),placeholder:"Enter your email",required:""},null,512),[[A,p.value]]),s[3]||(s[3]=e("i",{class:"bi bi-envelope emailIcon"},null,-1))])],512),[[V,o.value===1]]),r(e("button",{type:"button",class:"sentVerify_button",onClick:G,disabled:h.value},M(h.value?`Resend in ${f.value}s`:"Send Verification Code"),9,ne),[[V,o.value<=2]]),r(e("div",ce,[s[5]||(s[5]=e("label",null,"Enter 4-digit verification code",-1)),e("div",ue,[(v(!0),d(ee,null,se(m.value,(i,I)=>r((v(),d("input",{key:I,type:"text",class:"codeInput",maxlength:"1","onUpdate:modelValue":E=>m.value[I]=E,onInput:E=>L(I,E)},null,40,de)),[[A,m.value[I]]])),128))])],512),[[V,o.value===2]]),o.value===2?(v(),d("button",{key:0,type:"button",class:"verify_button",onClick:Z}," Verification ")):T("",!0),r(e("div",ve,[s[11]||(s[11]=e("label",{for:"password"},[c("New Password"),e("span",null,"*")],-1)),e("div",pe,[r(e("input",{type:_.value?"text":"password",id:"password",class:"setPassword","onUpdate:modelValue":s[1]||(s[1]=i=>l.value=i),placeholder:"Enter new password",title:"6–12 characters with letters and numbers",autocomplete:"new-password"},null,8,me),[[U,l.value]]),s[6]||(s[6]=e("i",{class:"bi bi-lock-fill passwordIcon"},null,-1)),e("a",{href:"#",onClick:S(z,["prevent"]),class:u(_.value?"bi bi-eye eyeIcon":"bi bi-eye-slash eyeIcon")},null,2)]),e("div",fe,[r(e("input",{type:y.value?"text":"password",id:"confirmPassword",class:"confirmPassword","onUpdate:modelValue":s[2]||(s[2]=i=>n.value=i),placeholder:"Confirm new password",title:"6–12 characters with letters and numbers",autocomplete:"new-password"},null,8,be),[[U,n.value]]),s[7]||(s[7]=e("i",{class:"bi bi-lock-fill passwordIcon"},null,-1)),e("a",{href:"#",onClick:S(j,["prevent"]),class:u(y.value?"bi bi-eye eyeIcon":"bi bi-eye-slash eyeIcon")},null,2)]),e("ul",we,[e("li",he,[e("i",{class:u(C.value.length?"bi bi-check-circle-fill check-circle green":"bi bi-exclamation-circle-fill exclamation-circle")},null,2),s[8]||(s[8]=c(" Password length must be 6–12 characters ",-1))]),e("li",_e,[e("i",{class:u(C.value.letter?"bi bi-check-circle-fill check-circle green":"bi bi-exclamation-circle-fill exclamation-circle")},null,2),s[9]||(s[9]=c(" At least 1 letter ",-1))]),e("li",ye,[e("i",{class:u(C.value.digit?"bi bi-check-circle-fill check-circle green":"bi bi-exclamation-circle-fill exclamation-circle")},null,2),s[10]||(s[10]=c(" At least 1 digit ",-1))]),e("li",ge,[e("i",{class:u(g.value===!0?"bi bi-check-circle-fill check-circle green":g.value===!1?"bi bi-x-circle-fill x-circle":"bi bi-exclamation-circle-fill exclamation-circle")},null,2),c(" "+M(J.value),1)])])],512),[[V,o.value===3]]),o.value===3?(v(),d("button",Ie," Reset Password ")):T("",!0)],32))}},Pe=B(Ve,[["__scopeId","data-v-4c01629e"]]),ke={class:"wrap"},xe={class:"retrieve-main"},Ce=te({__name:"retrieve",setup(D){return le({title:"RETRIEVE｜Hex Burger House"}),(b,F)=>(v(),d("div",ke,[P(O),e("main",xe,[P(W),P(Pe)]),P(Q)]))}}),Be=B(Ce,[["__scopeId","data-v-d9c040d7"]]);export{Be as default};
